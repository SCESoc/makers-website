<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="/favicon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="og:title" content="Makers Club" />
	<meta property="og:image" content="/open-graph-image.png" />
	<meta name="description" content="A Community within SCESoc that Learns by Making" />
	<meta http-equiv="content-security-policy" content=""><title>Rusty Christmas tree</title>
	<link rel="stylesheet" href="/internal/assets/pages/__layout.svelte-9ece212e.css">
	<link rel="stylesheet" href="/internal/assets/pages/projects/_slug_.svelte-85a972a4.css">
	<link rel="stylesheet" href="/internal/assets/Tag-0c0ccb7a.css">
	<link rel="modulepreload" href="/internal/start-67a5bbca.js">
	<link rel="modulepreload" href="/internal/chunks/vendor-db117ae3.js">
	<link rel="modulepreload" href="/internal/chunks/paths-4b3c6e7e.js">
	<link rel="modulepreload" href="/internal/pages/__layout.svelte-fbb219e5.js">
	<link rel="modulepreload" href="/internal/pages/projects/_slug_.svelte-59e44538.js">
	<link rel="modulepreload" href="/internal/chunks/Tag-41363e31.js">
	<link rel="modulepreload" href="/internal/chunks/SmartLink-c7f0155a.js">
</head>

<body>
	<div id="svelte">






<header class="svelte-kchcf1"><div class="corner svelte-kchcf1"><a sveltekit:prefetch href="/" class="svelte-kchcf1"><span class="logo svelte-kchcf1">makers<br>club</span></a></div>

	<nav class="svelte-kchcf1"><svg viewBox="0 0 2 3" aria-hidden="true" class="svelte-kchcf1"><path d="M0,0 L1,2 C1.5,3 1.5,3 2,3 L2,0 Z" class="svelte-kchcf1"></path></svg>
		<ul class="svelte-kchcf1"><li class="svelte-kchcf1"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 svelte-kchcf1" fill="none" viewBox="0 0 24 24" stroke="#fff"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" class="svelte-kchcf1"></path></svg></li></ul>
		<svg viewBox="0 0 2 3" aria-hidden="true" class="svelte-kchcf1"><path d="M0,0 L0,3 C0.5,3 0.5,3 1,2 L2,0 Z" class="svelte-kchcf1"></path></svg></nav>

	<div class="corner svelte-kchcf1"><a target="_blank" href="https://www.scesoc.ca/" class="svelte-kchcf1"><img src="/internal/assets/SCESocLogo-127799d2.svg" alt="SCESoc" class="svelte-kchcf1">
			</a></div>
</header>

<main class="svelte-oxe6do">

<div class="title-header svelte-1f091w3">
	<div class="title-header-right svelte-1f091w3"><div class="container svelte-incf8h" title="Project is false actively being developed"><div class="circle false svelte-incf8h"></div>
	<div class="label svelte-incf8h">Active</div>
</div>
		<div class="container svelte-7n19ew" title="Project is looking to collaborate with more people"><svg xmlns="http://www.w3.org/2000/svg" class="icon svelte-7n19ew" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z" clip-rule="evenodd"></path></svg>
	<div class="label svelte-7n19ew">Open to Collab</div>
</div></div></div>
<h1 class="title svelte-1f091w3">Rusty Christmas tree</h1>
<p class="description svelte-1f091w3">A LED Christmas Tree controlled by Rust. Contribute your own renderers! </p>
<div class="title-footer svelte-1f091w3"><p class="date svelte-1f091w3">Since: December 2021</p>
	<div class="tags svelte-1f091w3"><div class="container svelte-12335rq" style="background-color: hsl(14,81.4%,80%,30%); border-color: hsl(14,81.4%,60%,50%)"><div class="label svelte-12335rq" style="color: hsl(14,81.4%,30%,100%);">Rust</div>
</div><div class="container svelte-12335rq" style="background-color: hsl(331,75%,80%,30%); border-color: hsl(331,75%,60%,50%)"><div class="label svelte-12335rq" style="color: hsl(331,75%,30%,100%);">Raspberry Pi</div>
</div></div></div>
<img src="https://cdn.discordapp.com/attachments/444005079410802699/955980070953033798/68747470733a2f2f6d656469612e646973636f72646170702e6e65742f6174746163686d656e74732f3434343030353037393431303830323639392f3932333330383236373134333330333230382f756e6b6e6f776e2e706e67.png" alt="Rusty Christmas tree banner" title="Rusty Christmas tree banner" class="banner svelte-1f091w3">
<div class="article-layout svelte-1f091w3"><div class="sidebar svelte-1f091w3"><h3>Makers</h3>
			<div><a href="https://github.com/AngelOnFira" target="_blank"><div class="container svelte-1s0gd6n"><img class="avatar svelte-1s0gd6n" src="https://avatars.githubusercontent.com/u/14791619?v=4" alt="Forest Anderson's Avatar">
			<div class="details"><div class="name svelte-1s0gd6n">Forest Anderson</div>
				<div class="role svelte-1s0gd6n">Developer</div></div></div></a>
</div>
		<h3>Technologies Used</h3>
			<div class="tags svelte-1f091w3"><a href="https://www.rust-lang.org/" target="_blank"><div class="container svelte-a9vtj9"><img class="logo svelte-a9vtj9" src="https://api.faviconkit.com/www.rust-lang.org/32" alt="Rust's Avatar">
		<div class="label svelte-a9vtj9">Rust</div></div></a></div>
		<h3>Connect</h3>
			<p class="collab svelte-1f091w3">Reach out to us! üëã We are looking for collaborators!</p>
			<div class="links svelte-1f091w3"><a href="https://github.com/AngelOnFira/rusty-christmas-tree" target="_blank"><div class="container svelte-nb3ac3"><img class="logo svelte-nb3ac3" src="https://api.faviconkit.com/github.com/32" alt="Github Repo's Avatar">
		<div class="label svelte-nb3ac3">Github Repo</div></div></a></div></div>
	<article class="content svelte-1f091w3"><!-- HTML_TAG_START --><h1>Rusty Christmas Tree</h1>
<p>This is code that draws on the LED Christmas Tree made by
<a href="https://github.com/aidancrowther/">@aidancrowther</a>. You can see his 3D design
files and Pi Pico setup code on his project
<a href="https://github.com/aidancrowther/OpenPixelTree">OpenPixelTree</a>.</p>
<h2>Adding your own renderer</h2>
<p>If any of this doesn't make sense, write an issue and I'll try to make it more
clear üëç</p>
<p>This should get you started with making something to display on the tree. There
is a Nannou visualizer included so you can see what it will look like before
making a PR. You'll be able to run this with <code>make visualize</code> from the root.</p>
<p>To write your own code to run on the tree, you need to implement a "renderer". A
renderer is just a Rust module that implements a draw function, and returns a
<code>TreeCanvas</code>. You can find the renderers in <a href="https://github.com/AngelOnFira/rusty-christmas-tree/tree/main/tree-writer/src/renderers">this
folder</a>.
Here is an example of what you'll implement:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title hljs-function">draw</span>(tick: <span class="hljs-type">u64</span>) <span class="hljs-punctuation">-></span> TreeCanvas {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">canvas</span> = TreeCanvas::<span class="hljs-title hljs-function hljs-invoke">new</span>();
    <span class="hljs-keyword">for</span> <span class="hljs-variable">y</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">75</span> {
        <span class="hljs-keyword">for</span> <span class="hljs-variable">x</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..<span class="hljs-number">20</span> {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">this_pixel</span> = Pixel {
                r: (
                    (tick <span class="hljs-keyword">as</span> <span class="hljs-type">f64</span>) <span class="hljs-comment">// Start by converting the tick to a 64 bit float</span>
                    .<span class="hljs-title hljs-function hljs-invoke">sin</span>() <span class="hljs-comment">// The sin will be between -1 and 1</span>
                    .<span class="hljs-title hljs-function hljs-invoke">abs</span>() <span class="hljs-comment">// Get the absolute value so we are between 0 and 1</span>
                    * <span class="hljs-number">150.0</span> <span class="hljs-comment">// Multiply by 150 to get a number between 0 and 150</span>
                    + <span class="hljs-number">100.0</span>
                    <span class="hljs-comment">// ^^ Add 100 to get a number between 100 and 250</span>
                ) <span class="hljs-keyword">as</span> <span class="hljs-type">u8</span>, <span class="hljs-comment">// Convert the float to an 8 bit integer</span>
                g: <span class="hljs-number">0</span>,
                b: <span class="hljs-number">0</span>,
            };
            canvas.<span class="hljs-title hljs-function hljs-invoke">set_pixel</span>(x, y, this_pixel)
        }
    }
    canvas
}
</code></pre>
<p>To add a new renderer, start by duplicating the <code>template</code> folder and giving it a new
name. You'll then have to add code in several different places in the project:</p>
<ul>
<li>First, add your module
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/renderers/mod.rs#L5">here</a>.</li>
<li>Second, add a new enum variant
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-data-schema/src/lib.rs#L7">here</a>.</li>
<li>Next, we'll have to add this new variant to several match statements
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-data-schema/src/lib.rs#L17">here</a>,
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/renderers/mod.rs#L13">here</a>,
and
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/main.rs#L54">here</a>.</li>
<li>Finally, set the default vizualizer renderer to your new renderer
<a href="https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-visualizer/src/main.rs#L38">here</a>.</li>
</ul>
<p>Hopefully I get some time to fix this eventually, but I don't know how right
now. Now, you can start working in the <code>mod.rs</code> file in the new renderer folder.</p>
<p>At this point, you should also be able to run the visualizer and see your
renderer in action.</p>
<pre><code class="hljs language-bash">make visualize
</code></pre>
<p>Once you have something cool, make a pull request!</p>
<h3>Other Make Commands</h3>
<pre><code class="hljs language-vbnet"><span class="hljs-symbol">build:</span> build tree-writer <span class="hljs-keyword">for</span> the Raspberry Pi (requires Docker <span class="hljs-built_in">and</span> cargo-cross)
<span class="hljs-symbol">deploy:</span> scp the <span class="hljs-keyword">binary</span> <span class="hljs-keyword">to</span> the Pi
<span class="hljs-symbol">run:</span> (build + deploy) build tree-writer <span class="hljs-keyword">for</span> the Raspberry Pi <span class="hljs-built_in">and</span> scp the <span class="hljs-keyword">binary</span> <span class="hljs-keyword">to</span> the Pi
<span class="hljs-symbol">visualize:</span> run the Nannou visualizer
setup-web: install the prerequisites <span class="hljs-keyword">for</span> the frontend
<span class="hljs-symbol">frontend:</span> serve the frontend
frontend-release: serve the frontend <span class="hljs-keyword">in</span> release mode
</code></pre>
<h2>Architecture</h2>
<p>The plan for this project is to have many renderers implemented that show off
different displays (tree-writer). There will be a web server running
(tree-backend) that allows you to change what is currently being displayed on
the tree. A simple web frontend (tree-frontend) will display all the options of
renderers and allow you to pick one to display.</p>
<p>On the Raspberry Pi, there will be a process (tree-deploy) that runs the main
process (tree-writer). The first process will look for new releases from Github
periodically. If there is a new release, it will update the and restart the main
process.</p>
<p>While you're developing, you can run the visualizer (tree-visualizer) to see
what your renderer will look like on the tree.</p>
<h3>Physical Tree</h3>
<p>The physical tree is running on a Raspberry Pi Pico. There are 20 (actually 19)
strips running, creating 19x75 LED grid. You send data to the LED strings using
<code>spidev</code>, and send 4500 8-bit numbers for each frame. Up to 33 frames can be
drawn per second. The light indexes on the tree are as follows:</p>
<pre><code class="hljs">3 4 9
2 5 8
1 6 7
</code></pre>
<h3>tree-writer</h3>
<p>This crate is where the different "renderers" are implemented. A renderer is
just a module that implements a draw function, and returns a <code>TreeCanvas</code>. In
this function, you can set any <code>Pixel{r: u8, g: u8, b: u8}</code> on the <code>TreeCanvas</code>.</p>
<h3>tree-visualizer</h3>
<p>This crate uses <a href="https://github.com/nannou-org/nannou">Nannou</a> to visualize different <code>renderers</code>. It renders at the
same speed (I think:tm:) and orientation that will be displayed on the tree.</p>
<h3>tree-backend</h3>
<p>This crate uses <a href="https://github.com/seanmonstar/warp">Warp</a> to serve a basic web server. It allows you to change the
renderer that is currently being displayed on the tree. The <code>tree-writer</code> will
ping this server about once a second to see if there is a new renderer to switch
to.</p>
<h3>tree-frontend</h3>
<p>This crate uses <a href="https://github.com/yewproject/yew">Yew</a> to create a basic frontend for the <code>tree-backend</code>. It will
just have a list of buttons.</p>
<h3>tree-script</h3>
<p>This was an attempt to use the Mun scripting language as the backend for drawing
to the canvas. Currently, this isn't working, but if an MVP is made, then it
could be easier to write with, and hot reloadable as well.</p>
<h2>License</h2>
<p>Licensed under either of</p>
<ul>
<li>Apache License, Version 2.0, <a href="http://www.apache.org/licenses/LICENSE-2.0">LICENSE-APACHE</a></li>
<li>MIT license <a href="http://opensource.org/licenses/MIT">LICENSE-MIT</a></li>
</ul>
<p>at your option.</p>
<h3>Contribution</h3>
<p>Unless you explicitly state otherwise, any contribution intentionally
submitted for inclusion in the work by you, as defined in the Apache-2.0
license, shall be dual licensed as above, without any additional terms or
conditions.</p><!-- HTML_TAG_END --></article>
</div></main>

<footer class="svelte-oxe6do"><div class="footer-links svelte-oxe6do"><a target="_blank" href="https://www.scesoc.ca/" class="svelte-oxe6do">SCESoc</a>
		<a target="_blank" href="https://www.scesoc.ca/discord" class="svelte-oxe6do">Discord</a>
		<a target="_blank" href="https://github.com/SCESoc" class="svelte-oxe6do">Github</a></div>
</footer>


		<script type="module" data-hydrate="1bfy20q">
		import { start } from "/internal/start-67a5bbca.js";
		start({
			target: document.querySelector('[data-hydrate="1bfy20q"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/internal/pages/__layout.svelte-fbb219e5.js"),
						import("/internal/pages/projects/_slug_.svelte-59e44538.js")
				],
				params: {slug:"rusty-christmas-tree"}
			}
		});
	</script><script type="application/json" sveltekit:data-type="props">{"project":{"metadata":{"title":"Rusty Christmas tree","startDate":"2021-12-20","bannerImage":"https://cdn.discordapp.com/attachments/444005079410802699/955980070953033798/68747470733a2f2f6d656469612e646973636f72646170702e6e65742f6174746163686d656e74732f3434343030353037393431303830323639392f3932333330383236373134333330333230382f756e6b6e6f776e2e706e67.png","description":"A LED Christmas Tree controlled by Rust. Contribute your own renderers! ","makers":[{"name":"Forest Anderson","role":"Developer","avatar":"https://avatars.githubusercontent.com/u/14791619?v=4","contactLink":"https://github.com/AngelOnFira"}],"lookingForCollaborators":true,"active":true,"connectLinks":[{"name":"Github Repo","link":"https://github.com/AngelOnFira/rusty-christmas-tree"}],"technologies":[{"name":"Rust","url":"https://www.rust-lang.org/"}],"tags":["Rust","Raspberry Pi"]},"content":"\u003Ch1>Rusty Christmas Tree\u003C/h1>\n\u003Cp>This is code that draws on the LED Christmas Tree made by\r\n\u003Ca href=\"https://github.com/aidancrowther/\">@aidancrowther\u003C/a>. You can see his 3D design\r\nfiles and Pi Pico setup code on his project\r\n\u003Ca href=\"https://github.com/aidancrowther/OpenPixelTree\">OpenPixelTree\u003C/a>.\u003C/p>\n\u003Ch2>Adding your own renderer\u003C/h2>\n\u003Cp>If any of this doesn't make sense, write an issue and I'll try to make it more\r\nclear üëç\u003C/p>\n\u003Cp>This should get you started with making something to display on the tree. There\r\nis a Nannou visualizer included so you can see what it will look like before\r\nmaking a PR. You'll be able to run this with \u003Ccode>make visualize\u003C/code> from the root.\u003C/p>\n\u003Cp>To write your own code to run on the tree, you need to implement a \"renderer\". A\r\nrenderer is just a Rust module that implements a draw function, and returns a\r\n\u003Ccode>TreeCanvas\u003C/code>. You can find the renderers in \u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/tree/main/tree-writer/src/renderers\">this\r\nfolder\u003C/a>.\r\nHere is an example of what you'll implement:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-rust\">\u003Cspan class=\"hljs-keyword\">pub\u003C/span> \u003Cspan class=\"hljs-keyword\">fn\u003C/span> \u003Cspan class=\"hljs-title hljs-function\">draw\u003C/span>(tick: \u003Cspan class=\"hljs-type\">u64\u003C/span>) \u003Cspan class=\"hljs-punctuation\">->\u003C/span> TreeCanvas {\r\n    \u003Cspan class=\"hljs-keyword\">let\u003C/span> \u003Cspan class=\"hljs-keyword\">mut \u003C/span>\u003Cspan class=\"hljs-variable\">canvas\u003C/span> = TreeCanvas::\u003Cspan class=\"hljs-title hljs-function hljs-invoke\">new\u003C/span>();\r\n    \u003Cspan class=\"hljs-keyword\">for\u003C/span> \u003Cspan class=\"hljs-variable\">y\u003C/span> \u003Cspan class=\"hljs-keyword\">in\u003C/span> \u003Cspan class=\"hljs-number\">0\u003C/span>..\u003Cspan class=\"hljs-number\">75\u003C/span> {\r\n        \u003Cspan class=\"hljs-keyword\">for\u003C/span> \u003Cspan class=\"hljs-variable\">x\u003C/span> \u003Cspan class=\"hljs-keyword\">in\u003C/span> \u003Cspan class=\"hljs-number\">0\u003C/span>..\u003Cspan class=\"hljs-number\">20\u003C/span> {\r\n            \u003Cspan class=\"hljs-keyword\">let\u003C/span> \u003Cspan class=\"hljs-keyword\">\u003C/span>\u003Cspan class=\"hljs-variable\">this_pixel\u003C/span> = Pixel {\r\n                r: (\r\n                    (tick \u003Cspan class=\"hljs-keyword\">as\u003C/span> \u003Cspan class=\"hljs-type\">f64\u003C/span>) \u003Cspan class=\"hljs-comment\">// Start by converting the tick to a 64 bit float\u003C/span>\r\n                    .\u003Cspan class=\"hljs-title hljs-function hljs-invoke\">sin\u003C/span>() \u003Cspan class=\"hljs-comment\">// The sin will be between -1 and 1\u003C/span>\r\n                    .\u003Cspan class=\"hljs-title hljs-function hljs-invoke\">abs\u003C/span>() \u003Cspan class=\"hljs-comment\">// Get the absolute value so we are between 0 and 1\u003C/span>\r\n                    * \u003Cspan class=\"hljs-number\">150.0\u003C/span> \u003Cspan class=\"hljs-comment\">// Multiply by 150 to get a number between 0 and 150\u003C/span>\r\n                    + \u003Cspan class=\"hljs-number\">100.0\u003C/span>\r\n                    \u003Cspan class=\"hljs-comment\">// ^^ Add 100 to get a number between 100 and 250\u003C/span>\r\n                ) \u003Cspan class=\"hljs-keyword\">as\u003C/span> \u003Cspan class=\"hljs-type\">u8\u003C/span>, \u003Cspan class=\"hljs-comment\">// Convert the float to an 8 bit integer\u003C/span>\r\n                g: \u003Cspan class=\"hljs-number\">0\u003C/span>,\r\n                b: \u003Cspan class=\"hljs-number\">0\u003C/span>,\r\n            };\r\n            canvas.\u003Cspan class=\"hljs-title hljs-function hljs-invoke\">set_pixel\u003C/span>(x, y, this_pixel)\r\n        }\r\n    }\r\n    canvas\r\n}\n\u003C/code>\u003C/pre>\n\u003Cp>To add a new renderer, start by duplicating the \u003Ccode>template\u003C/code> folder and giving it a new\r\nname. You'll then have to add code in several different places in the project:\u003C/p>\n\u003Cul>\n\u003Cli>First, add your module\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/renderers/mod.rs#L5\">here\u003C/a>.\u003C/li>\n\u003Cli>Second, add a new enum variant\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-data-schema/src/lib.rs#L7\">here\u003C/a>.\u003C/li>\n\u003Cli>Next, we'll have to add this new variant to several match statements\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-data-schema/src/lib.rs#L17\">here\u003C/a>,\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/renderers/mod.rs#L13\">here\u003C/a>,\r\nand\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-writer/src/main.rs#L54\">here\u003C/a>.\u003C/li>\n\u003Cli>Finally, set the default vizualizer renderer to your new renderer\r\n\u003Ca href=\"https://github.com/AngelOnFira/rusty-christmas-tree/blob/main/tree-visualizer/src/main.rs#L38\">here\u003C/a>.\u003C/li>\n\u003C/ul>\n\u003Cp>Hopefully I get some time to fix this eventually, but I don't know how right\r\nnow. Now, you can start working in the \u003Ccode>mod.rs\u003C/code> file in the new renderer folder.\u003C/p>\n\u003Cp>At this point, you should also be able to run the visualizer and see your\r\nrenderer in action.\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs language-bash\">make visualize\n\u003C/code>\u003C/pre>\n\u003Cp>Once you have something cool, make a pull request!\u003C/p>\n\u003Ch3>Other Make Commands\u003C/h3>\n\u003Cpre>\u003Ccode class=\"hljs language-vbnet\">\u003Cspan class=\"hljs-symbol\">build:\u003C/span> build tree-writer \u003Cspan class=\"hljs-keyword\">for\u003C/span> the Raspberry Pi (requires Docker \u003Cspan class=\"hljs-built_in\">and\u003C/span> cargo-cross)\r\n\u003Cspan class=\"hljs-symbol\">deploy:\u003C/span> scp the \u003Cspan class=\"hljs-keyword\">binary\u003C/span> \u003Cspan class=\"hljs-keyword\">to\u003C/span> the Pi\r\n\u003Cspan class=\"hljs-symbol\">run:\u003C/span> (build + deploy) build tree-writer \u003Cspan class=\"hljs-keyword\">for\u003C/span> the Raspberry Pi \u003Cspan class=\"hljs-built_in\">and\u003C/span> scp the \u003Cspan class=\"hljs-keyword\">binary\u003C/span> \u003Cspan class=\"hljs-keyword\">to\u003C/span> the Pi\r\n\u003Cspan class=\"hljs-symbol\">visualize:\u003C/span> run the Nannou visualizer\r\nsetup-web: install the prerequisites \u003Cspan class=\"hljs-keyword\">for\u003C/span> the frontend\r\n\u003Cspan class=\"hljs-symbol\">frontend:\u003C/span> serve the frontend\r\nfrontend-release: serve the frontend \u003Cspan class=\"hljs-keyword\">in\u003C/span> release mode\n\u003C/code>\u003C/pre>\n\u003Ch2>Architecture\u003C/h2>\n\u003Cp>The plan for this project is to have many renderers implemented that show off\r\ndifferent displays (tree-writer). There will be a web server running\r\n(tree-backend) that allows you to change what is currently being displayed on\r\nthe tree. A simple web frontend (tree-frontend) will display all the options of\r\nrenderers and allow you to pick one to display.\u003C/p>\n\u003Cp>On the Raspberry Pi, there will be a process (tree-deploy) that runs the main\r\nprocess (tree-writer). The first process will look for new releases from Github\r\nperiodically. If there is a new release, it will update the and restart the main\r\nprocess.\u003C/p>\n\u003Cp>While you're developing, you can run the visualizer (tree-visualizer) to see\r\nwhat your renderer will look like on the tree.\u003C/p>\n\u003Ch3>Physical Tree\u003C/h3>\n\u003Cp>The physical tree is running on a Raspberry Pi Pico. There are 20 (actually 19)\r\nstrips running, creating 19x75 LED grid. You send data to the LED strings using\r\n\u003Ccode>spidev\u003C/code>, and send 4500 8-bit numbers for each frame. Up to 33 frames can be\r\ndrawn per second. The light indexes on the tree are as follows:\u003C/p>\n\u003Cpre>\u003Ccode class=\"hljs\">3 4 9\r\n2 5 8\r\n1 6 7\n\u003C/code>\u003C/pre>\n\u003Ch3>tree-writer\u003C/h3>\n\u003Cp>This crate is where the different \"renderers\" are implemented. A renderer is\r\njust a module that implements a draw function, and returns a \u003Ccode>TreeCanvas\u003C/code>. In\r\nthis function, you can set any \u003Ccode>Pixel{r: u8, g: u8, b: u8}\u003C/code> on the \u003Ccode>TreeCanvas\u003C/code>.\u003C/p>\n\u003Ch3>tree-visualizer\u003C/h3>\n\u003Cp>This crate uses \u003Ca href=\"https://github.com/nannou-org/nannou\">Nannou\u003C/a> to visualize different \u003Ccode>renderers\u003C/code>. It renders at the\r\nsame speed (I think:tm:) and orientation that will be displayed on the tree.\u003C/p>\n\u003Ch3>tree-backend\u003C/h3>\n\u003Cp>This crate uses \u003Ca href=\"https://github.com/seanmonstar/warp\">Warp\u003C/a> to serve a basic web server. It allows you to change the\r\nrenderer that is currently being displayed on the tree. The \u003Ccode>tree-writer\u003C/code> will\r\nping this server about once a second to see if there is a new renderer to switch\r\nto.\u003C/p>\n\u003Ch3>tree-frontend\u003C/h3>\n\u003Cp>This crate uses \u003Ca href=\"https://github.com/yewproject/yew\">Yew\u003C/a> to create a basic frontend for the \u003Ccode>tree-backend\u003C/code>. It will\r\njust have a list of buttons.\u003C/p>\n\u003Ch3>tree-script\u003C/h3>\n\u003Cp>This was an attempt to use the Mun scripting language as the backend for drawing\r\nto the canvas. Currently, this isn't working, but if an MVP is made, then it\r\ncould be easier to write with, and hot reloadable as well.\u003C/p>\n\u003Ch2>License\u003C/h2>\n\u003Cp>Licensed under either of\u003C/p>\n\u003Cul>\n\u003Cli>Apache License, Version 2.0, \u003Ca href=\"http://www.apache.org/licenses/LICENSE-2.0\">LICENSE-APACHE\u003C/a>\u003C/li>\n\u003Cli>MIT license \u003Ca href=\"http://opensource.org/licenses/MIT\">LICENSE-MIT\u003C/a>\u003C/li>\n\u003C/ul>\n\u003Cp>at your option.\u003C/p>\n\u003Ch3>Contribution\u003C/h3>\n\u003Cp>Unless you explicitly state otherwise, any contribution intentionally\r\nsubmitted for inclusion in the work by you, as defined in the Apache-2.0\r\nlicense, shall be dual licensed as above, without any additional terms or\r\nconditions.\u003C/p>"}}</script></div>
</body>

</html>